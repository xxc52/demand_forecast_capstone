# 평가 방법론 상세 설명

## WMAPE 계산 방식

### 1. 평가 데이터 구성

- **전체 데이터**: 1,460개 일별 매출 데이터 (1981-01-01 ~ 1984-12-30)
- **최소 필요 히스토리**: 365일 (전년 베이스라인 모델 때문)
- **평가 가능 기간**: 1982-01-01 ~ 1984-12-30
- **평가 포인트 수**: 1,094개

### 2. 예측 방식

각 평가 포인트에서:

- **Horizon=1**: t 시점에서 t+1 예측 → 1개 값
- **Horizon=2**: t 시점에서 t+1, t+2 예측 → 2개 값

### 3. 전체 예측 수

- **t+1 예측**: 1,094개 포인트 × 1 = 1,094개 예측값
- **t+1,t+2 예측**: 1,094개 포인트 × 2 = 2,188개 예측값

### 4. WMAPE 계산

```
WMAPE = Σ|실제값 - 예측값| / Σ|실제값| × 100
```

**예시 (Last Day, Horizon=2)**:

- 절대 오차 합계: 5,718.00
- 실제값 절대값 합계: 23,737.40
- WMAPE = 5,718.00 / 23,737.40 × 100 = 24.0886%

### 5. 중요 포인트

- **전체 평균**: WMAPE는 모든 1,094개 포인트의 평균 성능
- **개별 변동성**: 개별 포인트 WMAPE는 0.56% ~ 4471.43%까지 다양
- **0값 처리**: WMAPE는 합계로 나누므로 개별 0값에도 안정적

## 베이스라인 모델별 특징

### Last Day (전일 베이스라인)

- **예측 방식**: t-1 값을 모든 미래 시점에 사용
- **장점**: 단순하면서 단기 예측에 효과적
- **성능**: WMAPE 24.09% (최고 성능)

### Last Week (전주 베이스라인)

- **예측 방식**: t-7, t-6 등 일주일 전 값 사용
- **장점**: 주간 패턴 반영
- **성능**: WMAPE 28.37%

### Last Year (전년 베이스라인)

- **예측 방식**: t-365, t-364 등 1년 전 값 사용
- **장점**: 계절성 패턴 반영
- **성능**: WMAPE 30.06%

## 시각화와 실제 성능의 차이

- **시각화**: 마지막 1개 예측 포인트만 표시 (예시용)
- **실제 WMAPE**: 전체 1,094개 포인트의 평균
- **결론**: 한 예시가 전체 성능을 대표하지 않음

## 검증 결과

모든 계산이 `performance.py` 모듈과 수동 계산 결과가 일치함을 확인:

- Last Day: 24.0886% ✓
- Last Week: 28.3734% ✓
- Last Year: 30.0602% ✓
